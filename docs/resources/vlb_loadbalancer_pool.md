---

# generated by https://github.com/hashicorp/terraform-plugin-docs

subcategory: "vLoadBalancer"
page_title: "vngcloud_vlb_pool Resource - terraform-provider-vngcloud"
description: |-
  Provides a Pool resource for use with Load Balancer resources. This can be used to import, create, modify, and delete.
  
---

# vngcloud_vlb_pool (Resource)

Provides a Pool resource for use with Load Balancer resources. This can be used to import, create, modify  and delete.

## Example Usage

```terraform

resource "vngcloud_vlb_load_balancer" "example"{
  # ...
}
resource "vngcloud_vlb_pool" "example" {
  project_id       = "pro-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
  load_balancer_id = vngcloud_vlb_load_balancer.example.id
  name             = "example_Pool"
  protocol         = "HTTP"
  stickiness       = false
  algorithm        = "ROUND_ROBIN"

  health_monitor {
    health_check_method   = "GET"
    health_check_path     = "/"
    health_check_protocol = "HTTP"
    healthy_threshold     = 3
    unhealthy_threshold   = 3
    interval              = 30
    timeout               = 5
    success_code          = 200
    http_version          = "1.0"
  }

  members {
    backup       = false
    ip_address   = "172.17.1.4"
    monitor_port = 80
    port         = 80
    weight       = 1
    name         = "example-member"
  }

  members {
    backup       = true
    ip_address   = "172.17.1.8"
    monitor_port = 81
    port         = 81
    weight       = 1
    name         = "example-member1"
  }
}

```

## Argument Reference

The following arguments are supported:


* `project_id` -  (String, Required) The ID of the project to create the Pool in.
* `load_balancer_id` -  (String, Required) The ID of the load balancer in which the resource Pool is defined.
* `name` - (String, Required) The name of the resource Pool.
* `protocol` -  (String, Required) Protocol to use for routing traffic to the members of the resource Pool. For Application Load Balancers (Layer 7), valid value is `HTTP`. For Network Load Balancers (Layer 4), valid values are `TCP`, `UDP`, `PROXY`,
* `stickiness` - (Boolean, Optional) A boolean indicating whether stickiness is enabled for the resource Pool. Only available when `protocol` is `HTTP`.
* `tls_encryption` - (Boolean, Optional) A boolean indicating whether TLS Encryption is enabled for the resource Pool. Only available when `protocol` is `HTTP`.
* `algorithm` -  (String, Optional) The load balancing algorithm used by the resource Pool. It can be `ROUND_ROBIN`, `LEAST_CONNECTIONS`, `SOURCE_IP`. Default value is `ROUND_ROBIN`.

* `health_monitor` - (Optional)  A **_singleton list_** that contains properties related to the health monitor of the resource Pool. The following properties are available:
  * `health_check_protocol` -  (String, Required) The protocol used by the health monitor. It can be `HTTP`, `HTTPS`, `TCP`, `PING-UDP`.
  * `health_check_method` -  (String, Optional) The method used by the health monitor. It can be  `GET`, `POST`, `PUT`. Only available when `health_check_protocol` is `HTTP` or `HTTPS`.
  * `health_check_path` -  (String, Optional) The path used by the health monitor. Example: `/`. Only available when `health_check_protocol` is `HTTP` or `HTTPS`.
  * `healthy_threshold` -  (Number, Optional)  The number of consecutive successful health checks required to consider a member healthy. Default value is `3`.
  * `unhealthy_threshold` -  (Number, Optional) The number of consecutive failed health checks required to consider a member unhealthy. Default value is '3'.
  * `timeout` - (Number, Optional) The time in seconds to wait for a health check to complete. Default value is `5`.
  * `interval` -(Number, Optional)  The time in seconds between health checks. Default value is '30'.
  * `success_code` - (Number, Optional) The expected HTTP response code for a successful health check. Only available when `health_check_protocol` is `HTTP` or `HTTPS`.
  * `domain_name` - (String, Optional) The domain name used by the health monitor. Example: `example.com`. Don't specify this parameter if `domain_name` is `1.0`. Only available when `health_check_protocol` is `HTTP` or `HTTPS`.
  * `http_version` - (String, Optional) The HTTP version used by the health monitor. It can be `1.0`, `1.1`.  If `domain_name` is specified, this value must be `1.1`. Only available when `health_check_protocol` is `HTTP` or `HTTPS`.
  

* `members` - (Optional)   A `list` of properties representing the members of the resource Pool. The following properties are available:
    * `backup` -  (Boolean, Required)  A boolean indicating whether the member is a backup member.
    * `ip_address` -  (String, Required) The IP address of the member. Note that the IP address must be in the subnet of the load balancer.
    * `monitor_port` -  (Number, Required) The port used by the health monitor to check the health of the member. The value must be between `1` and `65535`.
    * `port` -  (Number, Required) The port used by the resource Pool to send traffic to the member. The value must be between `1` and `65535`.
    * `weight` -  (Number, Required) The weight of the member, used to determine the proportion of traffic sent to the member. Higher weight will make that member receive more requests.The value must be between `0` and `256`.
    * `name` -  (String, Required) The name of the member.
   


## Attributes Reference

In addition to all arguments above, the following attributes are exported:
* `id` - (String) The ID of this Pool.
* `status` - (String) The status of the Pool.



## Timeouts

[Configuration options](https://developer.hashicorp.com/terraform/language/resources/syntax#operation-timeouts):

- `create` - (Default `20m`)
- `update` - (Default `20m`)
- `delete` - (Default `20m`)

## Import

Pool can be imported using their unique identifier, e.g.
The unique identifier is the ID of the project, the ID of the load balancer and the ID of the Pool, separated by a colon.
Example: `pro-26151c78-0470-4b4c-88a1-6ec41ef29492:lb-aa0cd3bc-c3f1-4e4f-9581-fb9bc29614f4:Pool-d44af6c0-01ff-4369-902e-f0ea6ecee109`
```
$ terraform import vngcloud_vlb_pool.example pro-26151c78-0470-4b4c-88a1-6ec41ef29492:lb-aa0cd3bc-c3f1-4e4f-9581-fb9bc29614f4:Pool-d44af6c0-01ff-4369-902e-f0ea6ecee109
```

## IAM Policy
### Create:
In order to **create Pool**, user must have been granted permissions below:
- CreateLoadBalancerPool
- GetLoadBalancerPool 
- GetLoadBalancerHealthMonitor
- ListLoadBalancerMembers

### Update
In order to **update Pool**, user must have been granted permissions below:
- UpdateLoadBalancerPool
- UpdateListLoadBalancerMembers
- GetLoadBalancerPool
- GetLoadBalancerHealthMonitor
- ListLoadBalancerMembers


### Delete
In order to **delete Pool**, user must have been granted permissions below:
- DeleteLoadBalancerPool


